# Find libs
set(THREADS_PREFER_PTHREAD_FLAG ON)
find_package(Threads REQUIRED)
find_package(Log4cxx REQUIRED)
find_package(OpenSSL REQUIRED)
find_package(Libnice REQUIRED)
find_package(Usrsctp REQUIRED)

include_directories(${CMAKE_SOURCE_DIR}/include)
file(GLOB TESTCLIENT_SOURCES *.cpp)
add_executable(testclient ${TESTCLIENT_SOURCES})
set_property(TARGET testclient PROPERTY CXX_STANDARD 14)
target_link_libraries(testclient Threads::Threads)
target_link_libraries(testclient rtcdcpp)
target_link_libraries(testclient ${LOG4CXX_LIBRARIES})
target_link_libraries(testclient ${OPENSSL_LIBRARIES})
target_link_libraries(testclient ${LIBNICE_LIBRARIES})
target_link_libraries(testclient ${USRSCTP_LIBRARIES})
target_compile_options(testclient PRIVATE ${USRSCTP_DEFINITIONS})
